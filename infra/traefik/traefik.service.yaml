---
kind: Service
apiVersion: v1
metadata:
  name: traefik-ingress-service
  labels:
    lechaterrant.com/app: traefik
    lechaterrant.com/stack: traefik
  annotations:
    lechaterrant.com/load-balancer: traefik
    # Add here the id of the load balancer to use
    # The ID is output by terraform scripts
    kubernetes.digitalocean.com/load-balancer-id: a32ec121-d2c8-4e52-a385-0d429f6873d0
spec:
  type: LoadBalancer
  selector:
    lechaterrant.com/app: traefik
  ports:
    - protocol: TCP
      port: 80
      targetPort: 80
      name: web
    - protocol: TCP
      port: 443
      targetPort: 443
      name: websecure